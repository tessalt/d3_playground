<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>d3 Learnings</title>
	<script src="d3.v3/d3.v3.js"></script>
	<style>

	</style>
</head>
<body>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>

<script type="text/javascript">

var lineData = [];
var w = 800;
var h = 400;

function loadData(dfdLoadData) {
  d3.tsv("data.tsv", function(error, data){
    data.forEach(function(d){
      var temp = [];
      temp.push(d.date, d.age);
      lineData.push(temp);
    });
    dfdLoadData.resolve();
  });
  return lineData;
}

var dfdLoadData = new $.Deferred();

loadData(dfdLoadData);

var valueline = d3.svg.line()
    .x(function(d) { return d[0]; })
    .y(function(d) { return d[1]; });


dfdLoadData.done(function(){
  svg.append("path")
  .attr("d", valueline(lineData));
});

var svg = d3.select("body")
  .append("svg")
  .attr("width", w)
  .attr("height", h);

var line = d3.svg.line()
  .x(function(d) { return d.x; })
  .y(function(d) { return d.y; })
  .interpolate("linear");



</script>
</body>
</html>